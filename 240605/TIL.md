# TIL (Today I Learned)

## 2024-06-05

### 주제: Next.js

#### Next.js 에서 hydrate란?

Next.js의 hydrate는 클라이언트 측에서 서버 측에서 렌더링된 HTML을 재사용하여 초기 로딩을 최적화하는 과정입니다.

##### 서버 사이드 렌더링(SSR)와 클라이언트 사이드 렌더링(CSR)

1. 서버 사이드 렌더링(SSR)

- Next.js는 페이지를 서버에서 미리 렌더링하여 완성된 HTML을 클라이언트에 전달합니다. 이렇게 하면 초기 페이지 로딩 속도가 빨라지고 SEO가 향상됩니다.
- 예를 들어, 사용자가 웹사이트에 처음 방문하면, 서버는 페이지의 HTML을 생성하고 이를 사용자에게 보내줍니다.

2. 클라이언트 사이드 렌더링(CSR)

- React 애플리케이션은 일반적으로 클라이언트 측에서 모든 JavaScript를 로드한 후에야 페이지를 렌더링합니다.
- CSR에서는 초기 로딩 시 빈 HTML이 제공되고, 이후 JavaScript가 로드되면서 콘텐츠가 표시됩니다.

#### Hydration의 역할

- Hydration은 SSR과 CSR의 장점을 결합한 것입니다. 서버에서 렌더링된 HTML이 클라이언트에 전달된 후, 클라이언트 측에서 React가 이 HTML을 "재사용"하여 초기 로딩 시간을 단축하고, 이를 대화형 애플리케이션으로 변환하는 과정입니다.
- 즉, 서버에서 생성된 HTML을 클라이언트 측에서 다시 렌더링하지 않고, 기존의 HTML에 React 이벤트 핸들러를 추가하여 대화형 기능을 활성화합니다.

#### Hydration의 작동 방식

1. 서버에서 렌더링

- 서버가 페이지를 렌더링하여 완성된 HTML을 생성합니다.
- 이 HTML은 React 컴포넌트가 렌더링된 결과물입니다.

2. 클라이언트로 전달

- 서버에서 생성된 HTML이 클라이언트(브라우저)로 전달됩니다.

3. Hydration 단계:

- 클라이언트 측에서 React가 전달된 HTML을 가져와 "hydrate"합니다.
- 이 과정에서 React는 서버에서 렌더링된 HTML을 확인하고, 이를 기반으로 이벤트 핸들러와 같은 대화형 기능을 추가합니다.
- 이로써 사용자는 페이지를 빠르게 볼 수 있으며, JavaScript가 로드되면 바로 대화형 기능을 사용할 수 있습니다.
